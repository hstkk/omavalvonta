@(product: Product, results: models.dynamicforms.Results, history: Map[models.dynamicforms.Field, List[models.dynamicforms.Result]])

@import tags._
@import tags.navs._
@import tags.tables._

@main(product.toString + " " + results.form.toString + " historia") {
	@tabs() {
		<li><a href="@controllers.dynamicforms.routes.Results.page(product.id,0)">Lomakkeet</a></li>
		<li><a href="@controllers.dynamicforms.routes.Results.read(product.id, results.id)">Tulokset</a></li>
		<li><a href="@controllers.dynamicforms.routes.Results.update(product.id, results.id)">Muokkaa</a></li>
		<li class="active"><a href="@controllers.dynamicforms.routes.Results.history(product.id, results.id)">Historia</a></li>
		<li><a href="@controllers.dynamicforms.routes.Results.pdfify(product.id, results.id)">PDF-tiedosto</a></li>
	}
	<h2>M채채ritykset</h2>
	@stacked() {
		@history.map { case (key, value) =>
			<li><a href="#f@key.id">@key.name</a></li>
		}
	}

	@history.map { case (key, value) =>
		<h3 id="f@key.id">@key.name</h3>
		@if(key.help != ""){
			<p>@key.help</p>
		}
		@table() {
			@thead() {
				M채채ritetty
				Tulos
				Kommentti
				Muutoksen syy
			}
			<tbody>
				@for(result <- value) {
					@tr() { @result.updated.format("HH:mm:ss dd.MM.YYYY")
						@result
						@result.comment }
				}
			</tbody>
		}
	}
}