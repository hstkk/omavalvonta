@(FORM: play.data.Form[forms.dynamicforms.Dynamic], product: models.Product, f: models.dynamicforms.Form, html: String)

@import helper._
@import helper.twitterBootstrap._
@import tags._
@import tags.alerts._
@import tags.forms._
@import tags.navs._

@main(product.toString + " " + f.toString){
	@if(FORM.hasGlobalErrors) {
		@error() {
			@FORM.globalError.message
		}
	}
			@tabs() {
			<li><a href="@controllers.dynamicforms.routes.Results.page(product.id,0)">Lomakkeet</a></li>
			@if(!FORM("id").valueOr("").equals("")) {
				<li><a href="@controllers.dynamicforms.routes.Results.read(product.id, FORM("id").value.toLong)">Tulokset</a></li>
				<li class="active"><a href="@controllers.dynamicforms.routes.Results.update(product.id, FORM("id").value.toLong)">Muokkaa</a></li>
				<li><a href="@controllers.dynamicforms.routes.Results.history(product.id, FORM("id").value.toLong)">Historia</a></li>
				<li><a href="controllers.dynamicforms.routes.Results.pdfify(product.id, FORM("id").value.toLong)">PDF-tiedosto</a></li>
			}
		}
	@if(html == null || html.equals("")) {
		@error() {
			Lomakkeella ei ole vielä kenttiä.
		}
	} else {
		@helper.form(action = controllers.dynamicforms.routes.Results.save(product.id, f.id), 'class -> "form-horizontal"){
			@if(FORM("id").valueOr("").equals("")) {
				<fieldset>
					<legend>Erät</legend>
					@Html(models.Batch.checkboxify)
				</fieldset>
			}
			@hidden() {
				@FORM("id").value
			}
			@Html(html)
			@actions()
		}
	}
}